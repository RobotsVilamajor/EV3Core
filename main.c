#pragma config(Sensor, S2,     ,               sensorEV3_Gyro, modeEV3Gyro_RateAndAngle)
#pragma config(Sensor, S3,     ,               sensorEV3_Color)
#pragma config(Sensor, S4,     ,               sensorEV3_Color)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

// Motors:
//	Rigth: motorB
//	Left: motorC

// Wall:
// 	Vertical: motorD
//	Horizontal: motorA

// Fwd - Forward; Bwd - Backward. Recta direction definitions
// Lft - Left; Rgt - Right. Turns direction definitions

// From max side to middle: 1.2
// From max up to down: 2.65
// Recta(Direction, Count, Power)
// Turn(Direction, Angle, Power)
// Align(Direction, Time)
// MoveMotor(Motor, Count, Power)
// MoveMotorAsync(Motor, Count, Power)

// ROBOPRO || VEATRIZ
//#define VEATRIZ
#define VEATRIZ

#include "Core/Core.h"
//#include "Sortida_1R.h"
//#include "Sortida_2a.h"
//#include "Sortida_2bR.h"
//#include "Sortida_2bR_Short.h"
//#include "Sortida_3R.h"
//#include "Sortida_4_Robopro.h"


task main()
{
	resetGyro(S2);
	delay(300);
	setMotorBrakeMode(motorA, motorBrake);
  setMotorBrakeMode(motorD, motorBrake);
  waitForButtonPress();
	flushButtonMessages();
	//Fer ajust inicial
	setMotorBrakeMode(motorA, motorBrake);
  setMotorBrakeMode(motorD, motorBrake);
	Recta(Bwd, 0.02, 10, false, false);

//	//Anem fins a la canasta
//	//Avancem fins humans
	MoveMotorAsync(motorA, 1.2, 40);
	MoveMotor(motorD, 2.65, 40);
	setMotorBrakeMode(motorA, motorBrake);
  setMotorBrakeMode(motorD, motorBrake);
	Recta(Fwd, 2.4, 60);
	Turn(32, 15);
	Align(Fwd, 2);
	Recta(Fwd, 2.5, 60);
	//WaitForLine(Fwd, 5, 10, Rgt);
	Recta(Bwd, 0.05, 60);

//Pujem primer pis
	setMotorBrakeMode(motorC, motorBrake);
	setMotorBrakeMode(motorB, motorBrake);
	MoveMotor(motorA, -0.75, 60);
	MoveMotor(motorD, -1.4, 60);
	setMotorBrakeMode(motorD, motorBrake);

	//Pujem segon pis
	MoveMotor(motorA, 1.9, 60);
	MoveMotor(motorD, 1.4, 60);
	setMotorBrakeMode(motorD, motorBrake);
	MoveMotor(motorA, -1.9, 60);
	MoveMotor(motorD, -2.65, 70);
	MoveMotorAsync(motorD, 0.5, 70);
	Recta(Bwd, 0.5, 60);
	setMotorBrakeMode(motorD, motorBrake);
	Turn(97, 30);
	Recta(Fwd, 4, 70, false, false);
}
